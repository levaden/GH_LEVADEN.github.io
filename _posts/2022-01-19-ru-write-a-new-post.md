---
title: "Как Писать Новый Пост"
author:
  name: Cotes Chung
  link: https://github.com/cotes2020
date: 2022-01-19 14:10:00 +0800
categories: [Blogging, Tutorial]
tags: [writing]
render_with_liquid: false
---

В этой статье вы узнаете, как написать сообщение в теме _Chirpy_. Даже если у вас уже есть опыт работы с Jekyll, эту статью стоит прочитать, потому что многие функции требуют установки определенных переменных.

## Название и путь

Создайте новый файл с именем `YYYY-MM-DD-TITLE.EXTENSION` и поместите его в `_posts` корневого каталога. Обратите внимание, что `РАСШИРЕНИЕ` может быть только `md` или `markdown`. Если вы хотите сэкономить время на создании файлов, пожалуйста, воспользуйтесь плагином [`Jekyll-Compose`](https://github.com/jekyll/jekyll-compose).

## Передняя часть - Front Matter

Изначально, вам необходимо заполнить [Front Matter](https://jekyllrb.com/docs/front-matter/) как указано ниже в верхней части поста:

```yaml
---
title: TITLE
date: YYYY-MM-DD HH:MM:SS +/-TTTT
categories: [TOP_CATEGORIE, SUB_CATEGORIE]
tags: [TAG]     # ТЕГИ всегда должны быть в нижнем регистре
---
```

> **Примечание**: По умолчанию' _layout_ постов установлен на `post` поэтому нет необходимости добавлять переменную _layout_ в блок Front Matter.

### Часовой пояс даты

Для точного учета даты выхода поста необходимо не только установить `timezone` в `_config.yml`, но и указать часовой пояс поста в переменной `date` блока Front Matter. Формат: `+/-TTTT`, например, `+0800`.

### Категории и теги

`categories` каждого поста могут содержать до двух элементов, а количество элементов в `tags` может быть от нуля до бесконечности. Например:

```yaml
---
categories: [Животное, Насекомое]
tags: [пчела]
---
```

### Информация об авторе

Информацию об авторе поста обычно не нужно заполнять в _Front Matter_, она будет получена из переменных `social.name` и первой записи `social.links` конфигурационного файла по умолчанию. Но вы также можете переопределить это следующим образом:

```yaml
---
author:
  name: Полное Имя
  link: https://example.com
---
```

## Оглавление

По умолчанию **T**able **o**f **C**ontents (TOC) отображается на правой панели поста. Если вы хотите отключить его глобально, перейдите в `_config.yml` и установите значение переменной `toc` в `false`. Если вы хотите отключить TOC для конкретного поста, добавьте следующее в [Front Matter](https://jekyllrb.com/docs/front-matter/) поста:

```yaml
---
toc: false
---
```

## Комментарии

Глобальное включение комментариев определяется переменной `comments.active` в файле _\_config.yml_. После выбора системы комментариев для этой переменной, комментарии будут включены для всех постов.

Если вы хотите закрыть комментарии для конкретного сообщения, добавьте следующее в **Front Matter** сообщения:

```yaml
---
comments: false
---
```

## Математика

По причинам производительности сайта, математическая функция не будет загружена по умолчанию. Но ее можно включить:

```yaml
---
math: true
---
```

## Русалка

[**Mermaid**](https://github.com/mermaid-js/mermaid) - это отличный инструмент для генерации диаграмм. Чтобы включить его в вашем посте, добавьте следующее в блок YAML:

```yaml
---
mermaid: true
---
```

Затем вы можете использовать его как другие языки разметки: окружите код графа символами ```` ```mermaid ```` and ```` ``` ````.

## Изображения

### Подпись

Добавьте курсив в следующую строку изображения, тогда она станет подписью и появится внизу изображения:

```markdown
![img-description](/path/to/image)
_Подпись изображения_
```
{: .nolineno}

### Размер

Чтобы предотвратить смещение макета содержимого страницы при загрузке изображения, мы должны задать ширину и высоту для каждого изображения:

```markdown
![Desktop View](/assets/img/sample/mockup.png){: width="700" height="400" }
```
{: .nolineno}

Начиная с _Chirpy v5.0.0_, `height` и `width` поддерживают сокращения (`height` → `h`, `width` → `w`). Следующий пример имеет тот же эффект, что и приведенный выше:

```markdown
![Desktop View](/assets/img/sample/mockup.png){: w="700" h="400" }
```
{: .nolineno}

### Положение

По умолчанию изображение центрируется, но вы можете указать положение, используя один из классов `normal`, `left` и `right`. Например:

- **Normal position**

  Image will be left aligned in below sample:

  ```markdown
  ![Desktop View](/assets/img/sample/mockup.png){: .normal }
  ```
  {: .nolineno}

- **Float to the left**

  ```markdown
  ![Desktop View](/assets/img/sample/mockup.png){: .left }
  ```
  {: .nolineno}

- **Float to the right**

  ```markdown
  ![Desktop View](/assets/img/sample/mockup.png){: .right }
  ```
  {: .nolineno}

> **Ограничение**: После указания позиции изображения надпись к нему добавлять не следует.

### Тень

На скриншотах окна программы можно рассмотреть эффект тени, причем тень будет видна в режиме `свет`:

```markdown
![Desktop View](/assets/img/sample/mockup.png){: .shadow }
```
{: .nolineno}

### CDN URL

Если вы размещаете изображения на CDN, вы можете сэкономить время на многократном написании URL CDN, назначив переменную `img_cdn` в файле _\_config.yml_:

```yaml
img_cdn: https://cdn.com
```
{: file='_config.yml' .nolineno}

После назначения `img_cdn`, URL CDN будет добавлен к пути всех изображений (изображений аватара сайта и постов), начинающихся с `/`.

Например, при использовании изображений:

```markdown
![The flower](/path/to/flower.png)
```
{: .nolineno}

Результат парсинга автоматически добавит префикс CDN `https://cdn.com` перед путем к изображению:

```html
<img src="https://cdn.com/path/to/flower.png" alt="The flower">
```
{: .nolineno}

### Путь изображения

Когда пост содержит много изображений, многократное определение пути к ним будет отнимать много времени. Чтобы решить эту проблему, мы можем определить этот путь в блоке YAML поста:

```yml
---
img_path: /img/path/
---
```
{: .nolineno }

И тогда источник изображений в Markdown может записывать имя файла напрямую:

```md
![The flower](flower.png)
```
{: .nolineno }

Вывод будет следующим:

```html
<img src="/img/path/flower.png" alt="The flower">
```
{: .nolineno }


### Изображение для предварительного просмотра

Если вы хотите добавить изображение в верхнюю часть содержимого поста, укажите для него атрибуты `src`, `width`, `height` и `alt`:

```yaml
---
image:
  src: /path/to/image/file
  width: 1000   # in pixels
  height: 400   # in pixels
  alt: image alternative text
---
```

За исключением `alt`, все остальные параметры необходимы, особенно `width` и `height`, которые связаны с удобством использования и производительностью загрузки веб-страницы. Об этом также говорится в разделе "[Size](#size)".

Начиная с _Chirpy v5.0.0_, атрибуты `height` и `width` могут быть сокращены: `высота` → `h`, `ширина` → `w`. Кроме того, [`img_path`](#image-path) также может быть передан изображению предварительного просмотра, то есть, когда он установлен, атрибуту `src` нужно только имя файла изображения.

## Закрепленные посты

Вы можете закрепить одно или несколько сообщений в верхней части главной страницы, при этом закрепленные сообщения будут отсортированы в обратном порядке по дате их выхода. Включить это так:

```yaml
---
pin: true
---
```

## Кодовый блок

Символы Markdown ```` ``` ```` могут легко создать блок кода следующим образом:

```
Это фрагмент кода в открытом виде.
```

### Указание языка

Используя ```` ```{language} ```` вы получите блок кода с подсветкой синтаксиса:

````markdown
```yaml
key: value
```
````

> **Ограничение**: Тег `highlight` стиля Jekyll не совместим с этой темой.

### Номер строки

По умолчанию все языки, кроме `plaintext`, `console` и `terminal`, отображают номера строк. Когда вы хотите скрыть номер строки блока кода, вы можете добавить `{: .nolineno}` в следующей строке:

````markdown
```shell
echo 'No more line numbers!'
```
{: .nolineno}
````

### Указание имени файла

Вы могли заметить, что язык кода отображается в левой части заголовка блока кода. Если вы хотите заменить его именем файла, вы можете добавить атрибут `file` для достижения этой цели:

````markdown
```shell
# content
```
{: file="path/to/file" }
````

### Liquid Codes

Если вы хотите отобразить фрагмент **Liquid**, окружите код liquid символами `{% raw %}` и `{% endraw %}`:

````markdown
{% raw %}
```liquid
{% если product.title содержит 'Pack' %}
  В названии этого продукта содержится слово Pack.
{% endif %}
```
{% endraw %}
````

Или добавьте `render_with_liquid: false` (Требуется Jekyll 4.0 или выше) в YAML-блок поста...

## Подробнее

Для получения дополнительных знаний о постах Jekyll посетите [Jekyll Docs: Posts](https://jekyllrb.com/docs/posts/).
